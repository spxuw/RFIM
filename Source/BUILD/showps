#!/bin/bash
# This script will create a gnuplot script with the given parameters
# and run gv *.ps to show the .ps file
# Yang Liu 11/27/06


if (( $# != 2 ))
    then 
    echo "Number of arguments is incorrect"
    echo "Command format:  showps P s"
    exit 1
fi

P=$1 # path 
s=$2 # string: D$D-L$L-R$R-seed$seed

#######################################          M-H           ###########################################
echo "set terminal postscript eps enhanced color " > ps
echo "set size 0.6,0.6" >> ps


echo "set xlabel 'H'  font 'Times, 20'         " >> ps

echo "set ylabel 'M'  font 'Times, 20'        " >> ps
echo "set yrange [-1.2:1.2]                             " >> ps
echo "set output '$P/data/MH-$s.eps'     " >> ps
echo "set nolabel" >> ps
echo "plot '$P/data/MH-$s' u 1:2 notitle w lp" >> ps

#echo "set output '| epstopdf $P/data/MH-$s.eps' " >> ps


#echo "set ylabel 'S_{max}'  font 'Times, 20'        " >> ps
#echo "set yrange [-0.1:*]                             " >> ps
#echo "set output '$P/data/SH-$s.eps'     " >> ps
#echo "set nolabel" >> ps
#echo "plot '$P/data/MH-$s' u 1:3 notitle w lp" >> ps
#echo "set output '| epstopdf $P/data/SH-$s.eps' " >> ps


#echo "set output '$P/data/MH-$s.u.eps'     " >> ps
#echo "set nolabel" >> ps
#echo "plot '$P/data/MH-$s' u 1:2 t 'M' w lp,\\" >> ps
#echo "     '$P/data/MH-$s' u 1:3 t 'S' w lp" >> ps
#echo "set output '| epstopdf $P/data/MH-$s.u.eps' " >> ps

#########################################################################################################


gnuplot ps 

gv $P/data/MH-$s.eps &
#open $P/data/MH-$s.eps
#open $P/data/SH-$s.eps

#open $P/data/MH-$s.pdf &
#open $P/data/SH-$s.pdf &


#gv $P/data/Avalanches-$s.eps &
#gv $P/data/GS-layer-$s.eps &
#rm ps
